```mermaid
flowchart TD
    subgraph åˆæœŸåŒ–
        A1[FoodItem ã®æº–å‚™<br/>(å…·è±¡ã‚¯ãƒ©ã‚¹å®šç¾©ã€CATEGORYå®šæ•°ãƒ»é™çš„ãƒ¡ã‚½ãƒƒãƒ‰)]
        A2[Person ã®ç”Ÿæˆ<br/>(Customerã€Employee)]
        A3[Restaurant ã®æ§‹ç¯‰<br/>(ãƒ¡ãƒ‹ãƒ¥ãƒ¼ & ã‚¹ã‚¿ãƒƒãƒ•ç™»éŒ²)]
    end

    subgraph é¡§å®¢æ³¨æ–‡ã®é–‹å§‹
        B1[èˆˆå‘³ã‚«ãƒ†ã‚´ãƒªã®å–å¾—<br/>(Customer: interestedCategories())]
        B2[æ³¨æ–‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å—ä»˜]
    end

    subgraph ãƒ¬ã‚¸æ‹…å½“ã«ã‚ˆã‚‹æ³¨æ–‡å—ä»˜
        C1[order() ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè¡Œ<br/>(FoodItem é¸æŠ)]
        C2[æ³¨æ–‡ä½œæˆã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³<br/>("the cashier John created a food order")]
    end

    subgraph FoodOrder ã®ç”Ÿæˆã¨å§”ä»»
        D1[FoodOrder ã®ç”Ÿæˆ<br/>(æ³¨æ–‡å†…å®¹: FoodItem ãƒªã‚¹ãƒˆ)]
        D2[ã‚·ã‚§ãƒ•ã¸ã®å§”ä»»<br/>(èª¿ç†: "the chef William cooked a Pizza")]
    end

    subgraph è«‹æ±‚æ›¸ï¼ˆInvoiceï¼‰ã®ç”Ÿæˆ
        E1[Invoice ã®ä½œæˆ]
        E2[Invoice ã®å†…å®¹<br/>(æœ€çµ‚ä¾¡æ ¼ã€æ³¨æ–‡æ™‚é–“ã€èª¿ç†æ™‚é–“)]
    end

    subgraph æ³¨æ–‡å‡¦ç†ã®å®Œäº†
        F[order() ã®è¿”ã‚Šå€¤<br/>(ç”Ÿæˆã•ã‚ŒãŸ Invoice ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)]
    end

    %% ãƒ•ãƒ­ãƒ¼ã®æ¥ç¶š
    A1 --> A2
    A2 --> A3
    A3 --> B1
    B1 --> B2
    B2 --> C1
    C1 --> C2
    C2 --> D1
    D1 --> D2
    D2 --> E1
    E1 --> E2
    E2 --> F

```










```mermaid
graph TD

%% ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©
classDef server fill:#e3f2fd,stroke:#1e88e5,stroke-width:2px
classDef client fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
classDef messaging fill:#ede7f6,stroke:#6a1b9a,stroke-width:2px
classDef warning fill:#ffebee,stroke:#c62828,stroke-width:2px

%% ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
subgraph ã‚µãƒ¼ãƒãƒ¼èµ·å‹•[ã‚µãƒ¼ãƒãƒ¼èµ·å‹•å‡¦ç†]
    A1(ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰)
    A2(TCPã‚µãƒ¼ãƒãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰)
    A3(UDPã‚µãƒ¼ãƒãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰)
    A4(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¥ç¶šå—ç†)
    A5(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ²)
    A6(ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ãƒ¬ãƒƒãƒ‰)
    A7(ç›£è¦–ã‚¹ãƒ¬ãƒƒãƒ‰)

    A1 -->|TCPã‚µãƒ¼ãƒãƒ¼ã‚’é–‹å§‹| A2
    A1 -->|UDPã‚µãƒ¼ãƒãƒ¼ã‚’é–‹å§‹| A3
    A2 -->|ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå¾…æ©Ÿ| A4
    A4 -->|ãƒ«ãƒ¼ãƒ ä½œæˆ/å‚åŠ | A5
    A3 -->|ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†é–‹å§‹| A6
    A3 -->|éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ç›£è¦–é–‹å§‹| A7

    class A1,A2,A3,A4,A5,A6,A7 server
end

%% ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèµ·å‹•
subgraph ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèµ·å‹•[ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèµ·å‹•å‡¦ç†]
    B1(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè¡Œ)
    B2(TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–‹å§‹)
    B3(æ¥ç¶šæˆåŠŸ)
    B4(ãƒ¦ãƒ¼ã‚¶ãƒ¼åå…¥åŠ›)
    B5(ãƒ«ãƒ¼ãƒ ä½œæˆã¾ãŸã¯å‚åŠ )
    B6(ãƒ«ãƒ¼ãƒ ä½œæˆå‡¦ç†)
    B7(ãƒˆãƒ¼ã‚¯ãƒ³å—ä¿¡)
    B8(ãƒ«ãƒ¼ãƒ å‚åŠ å‡¦ç†)
    B9(ãƒˆãƒ¼ã‚¯ãƒ³å—ä¿¡)
    B10(UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–‹å§‹)
    B11(ãƒãƒ£ãƒƒãƒˆé–‹å§‹)

    B1 --> B2
    B2 --> B3
    B3 --> B4
    B4 --> B5
    B5 -->|ãƒ«ãƒ¼ãƒ ä½œæˆ| B6 --> B7
    B5 -->|ãƒ«ãƒ¼ãƒ å‚åŠ | B8 --> B9
    B2 --> B10
    B10 --> B11

    class B1,B2,B3,B4,B5,B6,B7,B8,B9,B10,B11 client
end

%% ã‚µãƒ¼ãƒãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†
subgraph ã‚µãƒ¼ãƒãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†[ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†ï¼†ç›£è¦–]
    C1(UDPã‚µãƒ¼ãƒãƒ¼)
    C2(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡)
    C3(ãƒ«ãƒ¼ãƒ ã¸ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆ)
    C4(éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒã‚§ãƒƒã‚¯)
    C5(ã‚­ãƒƒã‚¯ï¼†ãƒ«ãƒ¼ãƒ ç®¡ç†)

    C1 --> C2 --> C3
    C1 --> C4 -->|ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ| C5

    class C1,C2,C3,C4,C5 messaging
end

%% ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆçµ‚äº†
subgraph ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆçµ‚äº†[ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆçµ‚äº†å‡¦ç†]
    D1(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ)
    D2(UDPã§'exit!'é€ä¿¡)
    D3(ã‚½ã‚±ãƒƒãƒˆã‚’é–‰ã˜ã‚‹)
    D4(ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆé€šçŸ¥å—ä¿¡)
    D5(ãƒ«ãƒ¼ãƒ å‰Šé™¤ã¾ãŸã¯é€šçŸ¥)

    D1 -->|ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒexitã¨å…¥åŠ›| D2 --> D3
    D1 -->|ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰é€šçŸ¥| D4 --> D5

    class D1,D2,D3,D4,D5 warning
end

%% æµã‚Œæ¥ç¶šï¼ˆå…¨ä½“ã®é€£æºï¼‰
A1 --> B1
B1 --> C1
C1 --> D1

%% å‡¦ç†ã®æµã‚Œã‚’ç¤ºã™è£œåŠ©çŸ¢å°ï¼ˆå³â†’å·¦ã®ãƒ•ãƒ­ãƒ¼ã‚’ä¸‹ã«è¿½åŠ ï¼‰
subgraph å‡¦ç†ãƒ•ãƒ­ãƒ¼[ ]
    direction RL
    Z1(â† å‡¦ç†ã®æµã‚Œã¯å³ã‹ã‚‰å·¦ã¸)
end


```



### ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ãƒã‚¤ãƒˆè¡¨

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰             | ãƒã‚¤ãƒˆæ•°    | èª¬æ˜                       |
|--------------------|-----------|--------------------------|
| **RoomNameSize**    | 1 ãƒã‚¤ãƒˆ   | ãƒ«ãƒ¼ãƒ åã®ãƒã‚¤ãƒˆæ•°               |
| **Operation**       | 1 ãƒã‚¤ãƒˆ   | æ“ä½œã‚³ãƒ¼ãƒ‰ (Operation)          |
| **State**           | 1 ãƒã‚¤ãƒˆ   | ã‚¹ãƒ†ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ (State)          |
| **OperationPayloadSize** | 29 ãƒã‚¤ãƒˆ  | æ“ä½œãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã®ã‚µã‚¤ã‚º            |
| **RoomName**        | RoomNameSize ãƒã‚¤ãƒˆ | ãƒ«ãƒ¼ãƒ å (æœ€å¤§28ãƒã‚¤ãƒˆ)           |
| **OperationPayload**| OperationPayloadSize ãƒã‚¤ãƒˆ | æ“ä½œãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ (æœ€å¤§229ãƒã‚¤ãƒˆ)    |

#### ãƒ¡ãƒ¢:
- RoomNameSize ã¯ 1 ãƒã‚¤ãƒˆã§ã€æœ€å¤§ 28 ãƒã‚¤ãƒˆã®ãƒ«ãƒ¼ãƒ åã®é•·ã•ã‚’ç¤ºã—ã¾ã™ã€‚
- OperationPayloadSize ã¯ 29 ãƒã‚¤ãƒˆã§ã€æœ€å¤§ 229 ãƒã‚¤ãƒˆã®ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã®ã‚µã‚¤ã‚ºã‚’ç¤ºã—ã¾ã™ã€‚















## ğŸ“¦ ãƒã‚¤ãƒˆã®æƒ…å ±

---

### ğŸ§© RoomNameSize

| ãƒ‡ãƒ¼ã‚¿å   | å†…å®¹                     |
|------------|--------------------------|
| **èª¬æ˜**   | ãƒ«ãƒ¼ãƒ ã®è¨±å®¹äººæ•°         |
| **ãƒã‚¤ãƒˆæ•°** | 1ãƒã‚¤ãƒˆ                 |
| **å‹**     | `byte_int(0â€“255)`        |

---

### âš™ï¸ Operation

| ãƒ‡ãƒ¼ã‚¿å   | å†…å®¹                     |
|------------|--------------------------|
| **èª¬æ˜**   | æ“ä½œã‚³ãƒ¼ãƒ‰ã®ã“ã¨         |
| **çŠ¶æ…‹1**  | ãƒ«ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹         |
| **çŠ¶æ…‹2**  | ãƒ«ãƒ¼ãƒ ã«å‚åŠ ã—ãŸã„       |
| **ãƒã‚¤ãƒˆæ•°** | 1ãƒã‚¤ãƒˆ                 |
| **å‹**     | `byte_int(0â€“255)`        |

---

### ğŸ”„ State

| ãƒ‡ãƒ¼ã‚¿å   | å†…å®¹                                  |
|------------|---------------------------------------|
| **èª¬æ˜**   | ç¾åœ¨ã®çŠ¶æ…‹ã®ã“ã¨                      |
| **çŠ¶æ…‹0**  | ã‚µãƒ¼ãƒã®åˆæœŸåŒ–ï¼ˆãƒ«ãƒ¼ãƒ ä½œæˆè¦æ±‚ï¼‰      |
| **çŠ¶æ…‹1**  | ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å¿œç­”ï¼ˆãƒ«ãƒ¼ãƒ ä½œæˆä¸­ï¼‰      |
| **çŠ¶æ…‹2**  | ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å®Œäº†ï¼ˆãƒ«ãƒ¼ãƒ ä½œæˆå®Œäº†ï¼‰     |
| **ãƒã‚¤ãƒˆæ•°** | 1ãƒã‚¤ãƒˆ                             |
| **å‹**     | `byte_int(0â€“255)`                    |

---

### ğŸ“ OperationPayloadSize

| ãƒ‡ãƒ¼ã‚¿å   | å†…å®¹                                                        |
|------------|-------------------------------------------------------------|
| **èª¬æ˜**   | ãƒ‡ãƒ¼ã‚¿æœ¬ä½“ã®ã“ã¨                                            |
| **å†…å®¹**   | `RoomName`ï¼ˆ8ãƒã‚¤ãƒˆï¼‰ + `OperationPayload`ï¼ˆ21ãƒã‚¤ãƒˆï¼‰     |
| **ãƒã‚¤ãƒˆæ•°** | 29ãƒã‚¤ãƒˆ                                                   |
| **å‹**     | `byte_str`                                                 |













## ãƒã‚¤ãƒˆã®æƒ…å ±

---

### RoomNameSize

| ãƒ‡ãƒ¼ã‚¿å | RoomNameSize |
|----------|----------------|
| èª¬æ˜     | ãƒ«ãƒ¼ãƒ ã®è¨±å®¹äººæ•° |
| ãƒã‚¤ãƒˆæ•° | 1ãƒã‚¤ãƒˆ         |
| å‹       | byte_int(0â€“255) |

---

### Operation

| ãƒ‡ãƒ¼ã‚¿å | Operation      |
|----------|----------------|
| èª¬æ˜     | æ“ä½œã‚³ãƒ¼ãƒ‰ã®ã“ã¨ |
| çŠ¶æ…‹1    | ãƒ«ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹ |
| çŠ¶æ…‹2    | ãƒ«ãƒ¼ãƒ ã«å‚åŠ ã—ãŸã„ |
| ãƒã‚¤ãƒˆæ•° | 1ãƒã‚¤ãƒˆ         |
| å‹       | byte_int(0â€“255) |

---

### State

| ãƒ‡ãƒ¼ã‚¿å | State           |
|----------|------------------|
| èª¬æ˜     | ç¾åœ¨ã®çŠ¶æ…‹ã®ã“ã¨   |
| çŠ¶æ…‹0    | ã‚µãƒ¼ãƒã®åˆæœŸåŒ–ï¼ˆãƒ«ãƒ¼ãƒ ä½œæˆè¦æ±‚ï¼‰ |
| çŠ¶æ…‹1    | ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å¿œç­”ï¼ˆãƒ«ãƒ¼ãƒ ä½œæˆä¸­ï¼‰ |
| çŠ¶æ…‹2    | ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å®Œäº†ï¼ˆãƒ«ãƒ¼ãƒ ä½œæˆå®Œäº†ï¼‰ |
| ãƒã‚¤ãƒˆæ•° | 1ãƒã‚¤ãƒˆ           |
| å‹       | byte_int(0â€“255)   |

---

### OperationPayloadSize

| ãƒ‡ãƒ¼ã‚¿å | OperationPayloadSize            |
|----------|----------------------------------|
| èª¬æ˜     | ãƒ‡ãƒ¼ã‚¿æœ¬ä½“ã®ã“ã¨                   |
| å†…å®¹     | RoomName(8ãƒã‚¤ãƒˆ) + OperationPayload(21ãƒã‚¤ãƒˆ) |
| ãƒã‚¤ãƒˆæ•° | 29ãƒã‚¤ãƒˆ                          |
| å‹       | byte_str                          |















```mermaid
flowchart TD
    Start([ã‚¹ã‚¿ãƒ¼ãƒˆ])
    å…¥åŠ›[ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å…¥åŠ›]
    é¸æŠ[ä½œæˆã¾ãŸã¯å‚åŠ ã‚’é¸æŠ]

    ä½œæˆ1[ã€Œä½œæˆã€ã‚’é¸æŠ]
    ãƒ«ãƒ¼ãƒ åå…¥åŠ›[ãƒ«ãƒ¼ãƒ åã‚’å…¥åŠ›]

    å‚åŠ 2[ã€Œå‚åŠ ã€ã‚’é¸æŠ]
    ãƒ«ãƒ¼ãƒ ä¸€è¦§[ãƒ«ãƒ¼ãƒ ä¸€è¦§ã‹ã‚‰é¸æŠ]

    ãƒãƒ£ãƒƒãƒˆä¸­[ãƒãƒ£ãƒƒãƒˆä¸­]
    End([çµ‚äº†])

    Start --> å…¥åŠ› --> é¸æŠ

    é¸æŠ --> ä½œæˆ1 --> ãƒ«ãƒ¼ãƒ åå…¥åŠ› --> ãƒãƒ£ãƒƒãƒˆä¸­
    é¸æŠ --> å‚åŠ 2 --> ãƒ«ãƒ¼ãƒ ä¸€è¦§ --> ãƒãƒ£ãƒƒãƒˆä¸­

    ãƒãƒ£ãƒƒãƒˆä¸­ --> End

```





```mermaid
graph TD

%% ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©
classDef server fill:#e3f2fd,stroke:#1e88e5,stroke-width:2px
classDef client fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
classDef messaging fill:#ede7f6,stroke:#6a1b9a,stroke-width:2px
classDef warning fill:#ffebee,stroke:#c62828,stroke-width:2px

%% ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
subgraph ã‚µãƒ¼ãƒãƒ¼èµ·å‹•[ã‚µãƒ¼ãƒãƒ¼èµ·å‹•å‡¦ç†]
A1(ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰)
A2(TCPã‚µãƒ¼ãƒãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰)
A3(UDPã‚µãƒ¼ãƒãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰)
A4(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¥ç¶šå—ç†)
A5(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ²)
A6(ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ãƒ¬ãƒƒãƒ‰)
A7(ç›£è¦–ã‚¹ãƒ¬ãƒƒãƒ‰)

A1 -->|TCPã‚µãƒ¼ãƒãƒ¼ã‚’é–‹å§‹| A2
A1 -->|UDPã‚µãƒ¼ãƒãƒ¼ã‚’é–‹å§‹| A3
A2 -->|ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå¾…æ©Ÿ| A4
A4 -->|ãƒ«ãƒ¼ãƒ ä½œæˆ/å‚åŠ | A5
A3 -->|ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†é–‹å§‹| A6
A3 -->|éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ç›£è¦–é–‹å§‹| A7

class A1,A2,A3,A4,A5,A6,A7 server
end

%% ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèµ·å‹•
subgraph ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèµ·å‹•[ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèµ·å‹•å‡¦ç†]
B1(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè¡Œ)
B2(TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–‹å§‹)
B3(æ¥ç¶šæˆåŠŸ)
B4(ãƒ¦ãƒ¼ã‚¶ãƒ¼åå…¥åŠ›)
B5(ãƒ«ãƒ¼ãƒ ä½œæˆã¾ãŸã¯å‚åŠ )
B6(ãƒ«ãƒ¼ãƒ ä½œæˆå‡¦ç†)
B7(ãƒˆãƒ¼ã‚¯ãƒ³å—ä¿¡)
B8(ãƒ«ãƒ¼ãƒ å‚åŠ å‡¦ç†)
B9(ãƒˆãƒ¼ã‚¯ãƒ³å—ä¿¡)
B10(UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–‹å§‹)
B11(ãƒãƒ£ãƒƒãƒˆé–‹å§‹)

B1 --> B2
B2 --> B3
B3 --> B4
B4 --> B5
B5 -->|ãƒ«ãƒ¼ãƒ ä½œæˆ| B6 --> B7
B5 -->|ãƒ«ãƒ¼ãƒ å‚åŠ | B8 --> B9
B2 --> B10
B10 --> B11

class B1,B2,B3,B4,B5,B6,B7,B8,B9,B10,B11 client
end

%% ã‚µãƒ¼ãƒãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†
subgraph ã‚µãƒ¼ãƒãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†[ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†ï¼†ç›£è¦–]
C1(UDPã‚µãƒ¼ãƒãƒ¼)
C2(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡)
C3(ãƒ«ãƒ¼ãƒ ã¸ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆ)
C4(éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒã‚§ãƒƒã‚¯)
C5(ã‚­ãƒƒã‚¯ï¼†ãƒ«ãƒ¼ãƒ ç®¡ç†)

C1 --> C2 --> C3
C1 --> C4 -->|ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ| C5

class C1,C2,C3,C4,C5 messaging
end

%% ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆçµ‚äº†
subgraph ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆçµ‚äº†[ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆçµ‚äº†å‡¦ç†]
D1(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ)
D2(UDPã§'exit!'é€ä¿¡)
D3(ã‚½ã‚±ãƒƒãƒˆã‚’é–‰ã˜ã‚‹)
D4(ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆé€šçŸ¥å—ä¿¡)
D5(ãƒ«ãƒ¼ãƒ å‰Šé™¤ã¾ãŸã¯é€šçŸ¥)

D1 -->|ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒexitã¨å…¥åŠ›| D2 --> D3
D1 -->|ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰é€šçŸ¥| D4 --> D5

class D1,D2,D3,D4,D5 warning
end

%% æµã‚Œæ¥ç¶šï¼ˆå…¨ä½“ã®é€£æºï¼‰
A1 --> B1
B1 --> C1
C1 --> D1
```


```mermaid
sequenceDiagram
    actor ãƒ¦ãƒ¼ã‚¶ãƒ¼
    participant TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ as TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ(Python)
    participant TCPã‚µãƒ¼ãƒ as TCPã‚µãƒ¼ãƒ
    participant UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ as UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ(Python)
    participant UDPã‚µãƒ¼ãƒ as UDPã‚µãƒ¼ãƒ

    ãƒ¦ãƒ¼ã‚¶ãƒ¼->>TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘  Pythonã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’èµ·å‹•
    TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ->>TCPã‚µãƒ¼ãƒ: â‘¡ æ¥ç¶šè¦æ±‚ (TCP)
    TCPã‚µãƒ¼ãƒ-->>TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘¢ æ¥ç¶šæˆåŠŸé€šçŸ¥

    ãƒ¦ãƒ¼ã‚¶ãƒ¼->>TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘£ ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å…¥åŠ›
    ãƒ¦ãƒ¼ã‚¶ãƒ¼->>TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘¤ 1ã¾ãŸã¯2ã‚’å…¥åŠ› (1: ãƒ«ãƒ¼ãƒ ä½œæˆ, 2: ãƒ«ãƒ¼ãƒ å‚åŠ )

    alt 1(ãƒ«ãƒ¼ãƒ ä½œæˆ)ã‚’é¸æŠ
        TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ->>TCPã‚µãƒ¼ãƒ: â‘¥ ãƒ«ãƒ¼ãƒ ä½œæˆè¦æ±‚(ãƒ«ãƒ¼ãƒ å, ãƒ¦ãƒ¼ã‚¶ãƒ¼å)
        TCPã‚µãƒ¼ãƒ-->>TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘¦ ãƒ«ãƒ¼ãƒ ä½œæˆå®Œäº† & ãƒˆãƒ¼ã‚¯ãƒ³è¿”å´
    else 2(ãƒ«ãƒ¼ãƒ å‚åŠ )ã‚’é¸æŠ
        TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ->>TCPã‚µãƒ¼ãƒ: â‘¥ ãƒ«ãƒ¼ãƒ å‚åŠ è¦æ±‚(ãƒ¦ãƒ¼ã‚¶ãƒ¼å)
        TCPã‚µãƒ¼ãƒ-->>TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘¦ æ—¢å­˜ãƒ«ãƒ¼ãƒ ä¸€è¦§ã‚’è¿”å´
        ãƒ¦ãƒ¼ã‚¶ãƒ¼->>TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘§ å‚åŠ ã—ãŸã„ãƒ«ãƒ¼ãƒ åã‚’å…¥åŠ›
        TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ->>TCPã‚µãƒ¼ãƒ: â‘¨ é¸æŠã—ãŸãƒ«ãƒ¼ãƒ åã‚’é€ä¿¡
        TCPã‚µãƒ¼ãƒ-->>TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘© ãƒˆãƒ¼ã‚¯ãƒ³è¿”å´
    end

    note over TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: ãƒ«ãƒ¼ãƒ åã¨ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—
    
    TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ->>UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘ª ãƒ«ãƒ¼ãƒ åãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒ»ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¸¡ã™

    ãƒ¦ãƒ¼ã‚¶ãƒ¼->>UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘« ãƒãƒ£ãƒƒãƒˆé–‹å§‹
    UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ->>UDPã‚µãƒ¼ãƒ: â‘¬ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ (UDP)
    UDPã‚µãƒ¼ãƒ-->>UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘­ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡

    note over UDPã‚µãƒ¼ãƒ: ãƒ«ãƒ¼ãƒ å†…ã®ä»–ãƒ¡ãƒ³ãƒãƒ¼ã¸ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆ

    UDPã‚µãƒ¼ãƒ-->>UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘® ä»–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    ãƒ¦ãƒ¼ã‚¶ãƒ¼->>UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: â‘¯ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›ã‚’ç¶šã‘ã‚‹
    loop ç¶™ç¶š
        UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ->>UDPã‚µãƒ¼ãƒ: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
        UDPã‚µãƒ¼ãƒ-->>UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡
    end
```


